(this["webpackJsonpcookbook-local-storage"]=this["webpackJsonpcookbook-local-storage"]||[]).push([[0],{1:function(e,t,a){e.exports={recipe:"Recipe_recipe__14ChR",low__level:"Recipe_low__level__1kBMB",normal__level:"Recipe_normal__level__26xRX",high__level:"Recipe_high__level__3wPjb",recipe__spans:"Recipe_recipe__spans__18kfV",recipe__span:"Recipe_recipe__span__1Svgt",recipe__createDate:"Recipe_recipe__createDate__3OACK",recipe__editDate:"Recipe_recipe__editDate__1-88P",recipe__wrapper:"Recipe_recipe__wrapper__34yz8",recipe__title:"Recipe_recipe__title__QIY4z",recipe__description:"Recipe_recipe__description__1v4DD",recipe__buttons:"Recipe_recipe__buttons__3VxbL",recipe__button:"Recipe_recipe__button__2KlJZ"}},13:function(e,t,a){e.exports={recipes__list:"RecipeList_recipes__list__2JbIq",recipes__item:"RecipeList_recipes__item__W3-VV"}},14:function(e,t,a){e.exports={backdrop:"Modal_backdrop__3FAPo",modal:"Modal_modal__P3_V5"}},15:function(e,t,a){e.exports={recipes__list:"Legend_recipes__list__2AcxD",recipes__item:"Legend_recipes__item__3NWjf"}},26:function(e,t,a){e.exports={recipes__input:"RecipeFilter_recipes__input__1J-fg"}},28:function(e,t,a){e.exports=a(53)},3:function(e,t,a){e.exports={recipes__form:"RecipeEditor_recipes__form__Pmq7L",recipes__label:"RecipeEditor_recipes__label__2s932",recipes__input:"RecipeEditor_recipes__input__e4r01",recipes__textarea:"RecipeEditor_recipes__textarea__1USa0",recipes__labelLevel:"RecipeEditor_recipes__labelLevel__270tL",recipes__buttons:"RecipeEditor_recipes__buttons__30LPU",recipes__button:"RecipeEditor_recipes__button__A9wRj",recipes__labelDescription:"RecipeEditor_recipes__labelDescription__2MbSL"}},4:function(e,t,a){e.exports={container:"App_container__16xz_",recipes__header:"App_recipes__header__g166u",recipes__button:"App_recipes__button__tvMW1",recipes__quote:"App_recipes__quote__34Q6L",recipes__description:"App_recipes__description__tBBxf",recipes__author:"App_recipes__author__2AG1y",recipes__main:"App_recipes__main__3PefJ",recipes__wrapper:"App_recipes__wrapper__2-NsN"}},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var c=a(0),i=a.n(c),n=a(25),r=a.n(n),s=a(27),o=a(11),l=a(5),p=a(6),_=a(8),u=a(7),d=a(9),m=a(12),f=function(e){var t=e.options,a=e.value,c=e.onChange;return i.a.createElement("select",{name:"level",value:a,onChange:c},t.map((function(e){return i.a.createElement("option",{key:e,value:e},e)})))},h=Object.freeze({LOW:"low",NORMAL:"normal",HIGH:"high"}),v=a(3),b=a.n(v),E=Object.values(h),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var c=arguments.length,i=new Array(c),n=0;n<c;n++)i[n]=arguments[n];return(a=Object(_.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={text:a.props.text,description:a.props.description,level:a.props.level,createDate:a.props.createDate,editDate:a.props.editDate},a.handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.onSave(Object(o.a)({},a.state)),a.setState({text:"",description:"",level:h.NORMAL,createDate:"",editDate:""})},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.text,a=e.description,c=e.level,n=this.props.onCancel;return i.a.createElement("form",{className:b.a.recipes__form,onSubmit:this.handleSubmit},i.a.createElement("label",{className:"".concat(b.a.recipes__label," ").concat(b.a.recipes__labelText)},i.a.createElement("input",{className:b.a.recipes__input,type:"text",name:"text",value:t,onChange:this.handleChange,placeholder:"Enter the name of the recipe"})),i.a.createElement("label",{className:"".concat(b.a.recipes__label," ").concat(b.a.recipes__labelDescription)},i.a.createElement("textarea",{className:b.a.recipes__textarea,name:"description",value:a,onChange:this.handleChange,placeholder:"Enter the description for your recipe"})),i.a.createElement("label",{className:"".concat(b.a.recipes__label," ").concat(b.a.recipes__labelLevel)},"Select the recipe difficulty level:",i.a.createElement(f,{options:E,value:c,onChange:this.handleChange})),i.a.createElement("div",{className:b.a.recipes__buttons},i.a.createElement("button",{className:b.a.recipes__button,type:"submit"},"Save"),i.a.createElement("button",{className:b.a.recipes__button,type:"button",onClick:n},"Cancel")))}}]),t}(c.Component);R.defaultProps={text:"",description:"",level:h.NORMAL,createDate:"",editDate:""};var g=a(1),N=a.n(g),C=function(e){var t=e.text,a=e.description,c=e.level,n=e.createDate,r=e.editDate,s=e.onDeleteRecipe,o=e.onEdit;return i.a.createElement("div",{className:"".concat(N.a.recipe," ").concat(N.a["".concat(c,"__level")])},i.a.createElement("div",{className:N.a.recipe__spans},i.a.createElement("span",{className:"".concat(N.a.recipe__span," ").concat(N.a.recipe__createDate)},n),i.a.createElement("span",{className:"".concat(N.a.recipe__span," ").concat(N.a.recipe__editDate)},r)),i.a.createElement("div",{className:N.a.recipe__wrapper},i.a.createElement("h2",{className:N.a.recipe__title},t),i.a.createElement("p",{className:N.a.recipe__description},a)),i.a.createElement("div",{className:N.a.recipe__buttons},i.a.createElement("button",{className:N.a.recipe__button,type:"button",onClick:s},"Delete"),i.a.createElement("button",{className:N.a.recipe__button,type:"button",onClick:o},"Edit")))};C.defaultProps={createDate:"",editDate:""};var D=C,y=a(13),k=a.n(y),x=function(e){var t=e.items,a=e.onDeleteRecipe,c=e.onEditRecipe;return t.length>0&&i.a.createElement("ul",{className:k.a.recipes__list},t.map((function(e){return i.a.createElement("li",{className:k.a.recipes__item,key:e.id},i.a.createElement(D,Object.assign({},e,{onDeleteRecipe:function(){return a(e.id)},onEdit:function(){return c(e.id)}})))})))},O=a(26),S=a.n(O),M=function(e){var t=e.value,a=e.onChangeFilter;return i.a.createElement("input",{className:S.a.recipes__input,type:"text",value:t,onChange:a,placeholder:"Enter text to filter the recipe"})},w=a(14),j=a.n(w),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(a=Object(_.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).backdropRef=Object(c.createRef)(),a.handleKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.handleBackdropClick=function(e){var t=a.backdropRef.current;t&&e.target!==t||a.props.onClose()},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.children;return i.a.createElement("div",{className:j.a.backdrop,ref:this.backdropRef,onClick:this.handleBackdropClick,role:"presentation"},i.a.createElement("div",{className:j.a.modal},e))}}]),t}(c.Component),A=a(15),I=a.n(A),P=function(e){var t=e.items;return i.a.createElement("ul",{className:I.a.recipes__list},t.map((function(e){return i.a.createElement("li",{key:e.level,className:I.a.recipes__item},i.a.createElement("i",{className:"material-icons",style:{color:e.color,paddingRight:"6px"}},"assignment"),e.level)})))},J=a(10),Y=a.n(J);Y.a.defaults.baseURL="http://localhost:8080";var q=function(e){return Y.a.post("/recipes",e).then((function(e){return e.data}))},B=function(e){return Y.a.delete("/recipes/".concat(e))},F=function(e,t){return Y.a.patch("/recipes/".concat(e),t).then((function(e){return e.data}))},W=a(4),K=a.n(W),U=a(50),V=[{level:h.LOW,color:"#4caf50"},{level:h.NORMAL,color:"#2196f3"},{level:h.HIGH,color:"#f44336"}],z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var c=arguments.length,i=new Array(c),n=0;n<c;n++)i[n]=arguments[n];return(a=Object(_.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={recipes:[],filter:"",isCreating:!1,isEditing:!1,selectedRecipeId:null},a.changeFilter=function(e){a.setState({filter:e.target.value})},a.openCreateRecipeModal=function(){a.setState({isCreating:!0})},a.closeCreateRecipeModal=function(){a.setState({isCreating:!1})},a.addRecipe=function(e){var t=Object(o.a)({},e,{createDate:U().format("MMMM Do YYYY, h:mm:ss A")});a.setState((function(e){return{recipes:[].concat(Object(s.a)(e.recipes),[t])}}),(function(){var e=a.state.recipes;console.log(e),localStorage.setItem("recipes",JSON.stringify(e)),q(t).then((function(){return console.log("server work")})).catch((function(e){console.error(e),console.log("server do not work")})).finally(a.closeCreateRecipeModal)}))},a.deleteRecipe=function(e){B(e).then((function(){a.setState((function(t){return{recipes:t.recipes.filter((function(t){return t.id!==e}))}}))}))},a.openEditRecipeModal=function(e){a.setState({isEditing:!0,selectedRecipeId:e})},a.closeEditRecipeModal=function(){a.setState({isEditing:!1,selectedRecipeId:null})},a.updateRecipe=function(e){var t=e.text,c=e.description,i=e.level;F(a.state.selectedRecipeId,{text:t,description:c,level:i,editDate:U().format("MMMM Do YYYY, h:mm:ss A")}).then((function(e){a.setState((function(t){return{recipes:t.recipes.map((function(a){return a.id===t.selectedRecipeId?e:a}))}}),a.closeEditRecipeModal)}))},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;Y.a.get("/recipes").then((function(e){return e.data})).then((function(t){e.setState({recipes:t}),localStorage.setItem("recipes",JSON.stringify(t))})).catch((function(){var t=localStorage.getItem("recipes");t&&e.setState({recipes:JSON.parse(t)})})).catch((function(e){console.error(e)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.recipes;t.recipes!==a&&localStorage.setItem("recipes",JSON.stringify(a))}},{key:"render",value:function(){var e=this.state,t=e.recipes,a=e.filter,c=e.isCreating,n=e.isEditing,r=e.selectedRecipeId,s=function(e,t){return e.filter((function(e){return e.text.toLowerCase().includes(t.toLowerCase())}))}(t,a),o=t.find((function(e){return e.id===r}));return i.a.createElement("div",null,i.a.createElement("header",{className:K.a.recipes__header},i.a.createElement("div",{className:K.a.container},i.a.createElement("button",{className:K.a.recipes__button,type:"button",onClick:this.openCreateRecipeModal},"Add recipe"),i.a.createElement("div",{className:K.a.recipes__quote},i.a.createElement("p",{className:K.a.recipes__description},'" It is important to experiment and endlessly seek after creating the best possible flavours when preparing foods. That means not being afraid to experiment with various ingredients."'),i.a.createElement("p",{className:K.a.recipes__author},"Rocco DiSpirito")))),i.a.createElement("main",{className:K.a.recipes__main},i.a.createElement("div",{className:K.a.container},i.a.createElement("div",{className:K.a.recipes__wrapper},i.a.createElement(M,{value:a,onChangeFilter:this.changeFilter}),i.a.createElement(P,{items:V})),i.a.createElement(x,{items:s,onDeleteRecipe:this.deleteRecipe,onEditRecipe:this.openEditRecipeModal}),c&&i.a.createElement(L,{onClose:this.closeCreateRecipeModal},i.a.createElement(R,{onSave:this.addRecipe,onCancel:this.closeCreateRecipeModal})),n&&i.a.createElement(L,{onClose:this.closeEditRecipeModal},i.a.createElement(R,{onSave:this.updateRecipe,onCancel:this.closeEditRecipeModal,text:o.text,description:o.description,level:o.level,createDate:o.createDate,editDate:o.editDate})))))}}]),t}(c.Component);a(52);r.a.render(i.a.createElement(z,null),document.querySelector("#root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.33224348.chunk.js.map